<script src="//developers.kakao.com/sdk/js/kakao.min.js"></script>
<style>
  <% if (locals.setting.theme === 'black') { %>
  #article > .sub .back a {
    color: rgba(255, 255, 255, 0.7);
    background-color: rgba(255, 255, 255, 0.1);
  }
  #article > .item {
    background-color: rgba(255, 255, 255, 0.1);
  }
  #article > .item > .info h1 {
    color: rgba(255, 255, 255, 0.7);
  }
  #article > .item > .info {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }
  #article > .item > .info .category {
    background-color: rgba(255, 255, 255, 0.1);
  }
  #article > .item > .content {
    color: rgba(255, 255, 255, 0.7);
  }
  #article > .item .listAndEdit .likeContainer button,
  #article > .item .listAndEdit button {
    background-color: rgba(0, 0, 0, 0.3);
  }
  #article > .item .listAndEdit .likeContainer button:hover,
  #article > .item .listAndEdit button:hover {
    background-color: rgba(0, 0, 0, 0.5);
  }
  #article > .item > .info .etc .right .popUp {
    background-color: #121212;
  }
  #article > .item > .info .etc .right .popUp button {
    background-color: #090909;
  }
  #article > .item > .info .etc .right .popUp button:hover {
    background-color: #000;
  }
  #article .userPopup {
    background-color: #121212;
  }
  #article .userPopup li {
    background-color: #090909;
  }
  #article .userPopup li:hover {
    background-color: #000;
  }
  <% } %>
</style>
<article id="article" articleId="<%= article.id %>" boardId="<%= board.id %>" userId="<%= article.article_user_ID %>">
  <% if (locals.setting.adsenseTop) { %>
  <div class="adsense">
    <%- locals.setting.adsenseTop %>
  </div>
  <% } %>
  <% if (locals.banners.filter(b => b.position === 'articleTop' && b.status === 1).length) { %>
    <%- include('../banner', { position: 'articleTop' }); %>
  <% } %>
  <div class="sub">
    <% if (page) { %>
    <div class="back"><a href="/<%= board.slug %>?page=<%= page %>">< 목록으로</a></div>
    <% } else { %>
      <div class="back"><a href="/<%= board.slug %>">< 목록으로</a></div>
    <% } %>
  </div>
  <div class="item">
    <div class="info">
      <div class="titleContainer">
        <% if (article.category) { %><span class="category"><%= article.category %></span><% } %>
        <span><h1><%= article.title %></h1></span>
      </div>
      <div class="etc">
        <div class="left">
          <div class="nickName">
            <%= article.nickName %>
            <ul class="userPopup">
              <% if (locals.setting.useMessage) { %>
              <li><a href="/message/send/<%= article.nickName %>">쪽지 보내기</a></li>
              <% } %>
              <!-- <li><a href="/user/<%= article.nickName %>">회원정보 보기</a></li> -->
            </ul>
          </div>
          <div class="dot"></div>
          <% if (article.permissionName) { %>
          <div class="permissionName"><%= article.permissionName %></div>
          <div class="dot"></div>
          <% } %>
          <div class="datetime"><%= article.datetime %></div>
          <% if (board.useViewCount) { %>
          <div class="dot"></div>
          <div class="viewCount"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="eye" class="svg-inline--fa fa-eye fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z"></path></svg><%= article.viewCount %></div>
          <% } %>
          <% if (article.likeCount) { %>
          <div class="dot"></div>
          <div class="likeCount"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" class="svg-inline--fa fa-thumbs-up fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><%= article.likeCount %></div>
          <% } %>
          <% if (article.unlikeCount) { %>
          <div class="dot"></div>
          <div class="likeCount"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-down" class="svg-inline--fa fa-thumbs-down fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M466.27 225.31c4.674-22.647.864-44.538-8.99-62.99 2.958-23.868-4.021-48.565-17.34-66.99C438.986 39.423 404.117 0 327 0c-7 0-15 .01-22.22.01C201.195.01 168.997 40 128 40h-10.845c-5.64-4.975-13.042-8-21.155-8H32C14.327 32 0 46.327 0 64v240c0 17.673 14.327 32 32 32h64c11.842 0 22.175-6.438 27.708-16h7.052c19.146 16.953 46.013 60.653 68.76 83.4 13.667 13.667 10.153 108.6 71.76 108.6 57.58 0 95.27-31.936 95.27-104.73 0-18.41-3.93-33.73-8.85-46.54h36.48c48.602 0 85.82-41.565 85.82-85.58 0-19.15-4.96-34.99-13.73-49.84zM64 296c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm330.18 16.73H290.19c0 37.82 28.36 55.37 28.36 94.54 0 23.75 0 56.73-47.27 56.73-18.91-18.91-9.46-66.18-37.82-94.54C206.9 342.89 167.28 272 138.92 272H128V85.83c53.611 0 100.001-37.82 171.64-37.82h37.82c35.512 0 60.82 17.12 53.12 65.9 15.2 8.16 26.5 36.44 13.94 57.57 21.581 20.384 18.699 51.065 5.21 65.62 9.45 0 22.36 18.91 22.27 37.81-.09 18.91-16.71 37.82-37.82 37.82z"></path></svg><%= article.unlikeCount %></div>
          <% } %>
        </div>
        <div class="right">
          <div class="buttons"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="ellipsis-v" class="svg-inline--fa fa-ellipsis-v fa-w-6" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 512"><path fill="#AAAAAA" d="M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"></path></svg></div>
          <ul class="popUp">
            <form action="/<%= board.slug %>/<%= article.id %>/edit" method="POST">
              <% if (locals.user?.id === article.article_user_ID || locals.user?.isAdmin || !article.article_user_ID) { %>
                <li class="edit"><a href="/<%= board.slug %>/<%= article.id %>/edit"><button type="button" name="submit" value="edit"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="edit" class="svg-inline--fa fa-edit fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="#9DA5B6" d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"></path></svg>수정</button></a></li>
                <% if (article.article_user_ID) { %>
                <li class="delete"><button name="submit" value="delete"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="trash-alt" class="svg-inline--fa fa-trash-alt fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="#9DA5B6" d="M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"></path></svg>삭제</button></li>
                <% } else { %>
                <li class="deletePopup"><button type="button"><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="trash-alt" class="svg-inline--fa fa-trash-alt fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="#9DA5B6" d="M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"></path></svg>삭제</button></li>
                <% } %>
              <% } %>
              <li class="report"><button type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#9DA5B6" d="M476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87c-34.63 0-77.87 8.003-137.2 32.05V24C48 10.75 37.25 0 24 0S0 10.75 0 24v464C0 501.3 10.75 512 24 512s24-10.75 24-24v-104c53.59-23.86 96.02-31.81 132.8-31.81c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0zM464 319.8c-30.31 10.82-58.08 16.1-84.6 16.1c-30.8 0-58.31-7-87.44-14.41c-32.01-8.141-68.29-17.37-111.1-17.37c-42.35 0-85.99 9.09-132.8 27.73V84.14l18.03-7.301c47.39-19.2 86.38-28.54 119.2-28.54c28.24 .0039 49.12 6.711 73.31 14.48c25.38 8.148 54.13 17.39 90.58 17.39c35.43 0 72.24-8.496 114.9-26.61V319.8z"/></svg>신고</button></li>
              <!-- <li class="block"><button type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#9DA5B6" d="M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM92.93 126.9C64.8 162.3 48 207.2 48 256C48 370.9 141.1 464 256 464C304.8 464 349.7 447.2 385.1 419.1L92.93 126.9zM464 256C464 141.1 370.9 48 256 48C207.2 48 162.3 64.8 126.9 92.93L419.1 385.1C447.2 349.7 464 304.8 464 256z"/></svg>차단</button></li> -->
            </form>
          </ul>
        </div>
      </div>
    </div>
    <% if (article.links) { %>
    <div class="links">
      <% article.links.forEach(link => { %>
      <div class="link">링크 : <a href="<%= link %>" target="_blank"><%= link %></a></div>
      <% }) %>
    </div>
    <% } %>
    <% if (article.files?.length) { %>
    <div class="files">
      <% article.files.forEach(file => { %>
      <div class="file">다운로드 : <a href="<%= s3Host %>/files/<%= file %>" target="_blank"><%= file %></a></div>
      <% }) %>
    </div>
    <% } %>
    <% if (article.customField01) { %><div class="customField"><%= board.customFieldTitle01 %> : <%= article.customField01 %></div><% } %>
    <% if (article.customField02) { %><div class="customField"><%= board.customFieldTitle02 %> : <%= article.customField02 %></div><% } %>
    <% if (article.customField03) { %><div class="customField"><%= board.customFieldTitle03 %> : <%= article.customField03 %></div><% } %>
    <% if (article.customField04) { %><div class="customField"><%= board.customFieldTitle04 %> : <%= article.customField04 %></div><% } %>
    <% if (article.customField05) { %><div class="customField"><%= board.customFieldTitle05 %> : <%= article.customField05 %></div><% } %>
    <% if (article.customField06) { %><div class="customField"><%= board.customFieldTitle06 %> : <%= article.customField06 %></div><% } %>
    <% if (article.customField07) { %><div class="customField"><%= board.customFieldTitle07 %> : <%= article.customField07 %></div><% } %>
    <% if (article.customField08) { %><div class="customField"><%= board.customFieldTitle08 %> : <%= article.customField08 %></div><% } %>
    <% if (article.customField09) { %><div class="customField"><%= board.customFieldTitle09 %> : <%= article.customField09 %></div><% } %>
    <% if (article.customField10) { %><div class="customField"><%= board.customFieldTitle10 %> : <%= article.customField10 %></div><% } %>
    <div class="content"><%- article.content %></div>
    <% if (article.tags.length) { %>
    <div class="tags">
      <div class="tag">태그 :</div>
      <% article.tags.forEach(tag => { %>
      <div class="tag">#<%= tag.key %></div>
      <% }) %>
    </div>
    <% } %>
    <div class="listAndEdit">
      <div class="left">
        <div class="list">
          <a href="/<%= board.slug %><% if (page) { %>?page=<%= page %><% } %>"><button>목록</button></a>
        </div>
      </div>
      <div class="right">
        <div class="share">
          <button id="share">공유</button>
        </div>
        <% if (article.userLike) { %>
          <div class="likeContainer"><button id="like" class="like like-full">추천 취소</button></div>
        <% } else { %>
          <div class="likeContainer"><button id="like" class="like">추천</button></div>
        <% } %>

      </div>
    </div>
    <%- include('./comments', { comments: article.comments }) %>
  </div>
  <div class="writeBtn">
    <a href="/<%= board.slug %>/new">글쓰기</a>
  </div>
  <% if (locals.setting.adsenseBottom) { %>
  <div class="adsense">
    <%- locals.setting.adsenseBottom %>
  </div>
  <% } %>
  <% if (article.prevNextArticle?.length) { %>
  <%- include('./type/board', { articles: article.prevNextArticle }); %>
  <% } %>
  <% if (article.totalArticles?.length) { %>
    <% if (board.type.match('bookmark')) { %>
      <%- include(`./type/bookmark`, { articles: article.totalArticles }); %>
      <%- include('../pagination', { pn: article.pn }) %>
    <% } else { %>
      <%- include(`./type/${board.type}`, { articles: article.totalArticles }); %>
      <%- include('../pagination', { pn: article.pn }) %>
    <% } %>
  <% } %>
  <% if (locals.banners.filter(b => b.position === 'articleBottom' && b.status === 1).length) { %>
    <%- include('../banner', { position: 'articleBottom' }); %>
  <% } %>
  <section id="modal">
    <div class="container share">
      <!--
      <div class="shareItem kakaoTalk" id="<%= setting.socialKakaoClientId %>">
        <a>
          <img src="/assets/social/kakaotalk.svg">
        </a>
      </div>
    -->
      <div class="shareItem link">
        <a href="javascript:copyToClipboard('<%= article.url %>')">
          <img src="/assets/social/link.svg">
        </a>
      </div>
    </div>
    <div class="container removeArticle">
      <form action="/<%= board.slug %>/<%= article.id %>/edit" method="POST">
        <input type="password" name="password" placeholder="비밀번호">
        <button>확인</button>
      </form>
    </div>
    <div class="container removeComment">
      <input type="password" name="password" placeholder="비밀번호">
      <button>확인</button>
    </div>
    <style>
      h4{
        text-align: center;
      }
    </style>
    
    <div class="container report">
      <h4>게시글 신고하기</h4>
      <input type="hidden" name="type">
      <input type="hidden" name="id">
      <div><input type="radio" name="reportCategory" value="상업적 광고 및 판매" checked><label>상업적 광고 및 판매</label></div>
      <div><input type="radio" name="reportCategory" value="게시판 성격에 부적절함"><label>게시판 성격에 부적절함</label></div>
      <div><input type="radio" name="reportCategory" value="욕설/비하"><label>욕설/비하</label></div>
      <div><input type="radio" name="reportCategory" value="정당/정치인 비하 및 선거운동"><label>정당/정치인 비하 및 선거운동</label></div>
      <div><input type="radio" name="reportCategory" value="낚시/놀림/도배"><label>낚시/놀림/도배</label></div>
      <div><input type="radio" name="reportCategory" value="유출/사칭/사기"><label>유출/사칭/사기</label></div>
      <div><input type="radio" name="reportCategory" value="음란물/불건전한 만남 및 대화"><label>음란물/불건전한 만남 및 대화</label></div>
      <textarea name="content" placeholder="신고 내용"></textarea>
      <button>확인</button>
    </div>
    <div class="background"></div>
  </section>
</article>